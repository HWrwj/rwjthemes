<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RWJ Themes</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@800&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <h1 class="main-title">RWJ Themes</h1>

  <div class="header-bar">
    <button class="top-btn left-btn" onclick="onLeftButtonClick()">üß≠</button>
    <button class="top-btn right-btn" onclick="toggleSearch()">üîç</button>
  </div>
  <div class="search-bar" id="searchBar" style="display: none;">
    <input type="text" id="searchInput" placeholder="ÊêúÁ¥¢‰∏ªÈ¢ò„ÄÅ‰ΩúËÄÖÊàñÊ†áÁ≠æ..." />
  </div>
  
  <!-- ËΩÆÊí≠Â§ßÂõæÂå∫Âüü -->
  <div class="carousel" id="carousel">
    <div class="carousel-track" id="carouselTrack"></div>
    <div class="carousel-indicators" id="carouselIndicators"></div>
  </div>

  <div class="grid" id="themeGrid"></div>

  <div id="modal-backdrop"></div>
  <div id="modal" tabindex="-1">
    <button class="blur-btn close-btn" onclick="closeModal()" aria-label="ÂÖ≥Èó≠"></button>
    <div class="modal-content">
      <div class="author-info" id="modal-author"></div>
      <h2 id="modal-title"></h2>
      <p id="modal-desc"></p>
      <div class="tag-list" id="modal-tags"></div>
      <div class="modal-imgs-wrap">
        <button class="blur-btn slide-btn left" id="slideLeftBtn" onclick="slideImgs(-1)" title="‰∏ä‰∏ÄÈ°µ">&#8592;</button>
        <div class="modal-imgs" id="modal-imgs"></div>
        <button class="blur-btn slide-btn right" id="slideRightBtn" onclick="slideImgs(1)" title="‰∏ã‰∏ÄÈ°µ">&#8594;</button>
      </div>
      <div class="downloads" id="modal-downloads"></div>
    </div>
  </div>
  

  <!-- È¢ÑËßàÂ§ßÂõæÂºπÁ™ó -->
  <div id="imgModal" onclick="hideBigImg()">
    <button class="blur-btn close-btn" onclick="hideBigImg();event.stopPropagation();" aria-label="ÂÖ≥Èó≠"></button>
    <button class="blur-btn slide-btn left" id="imgPrevBtn" onclick="showPrevImg(event)" aria-label="‰∏ä‰∏ÄÂº†">&#8592;</button>
    <img id="bigImg" src="" alt="Â§ßÂõæÈ¢ÑËßà" loading="lazy">
    <button class="blur-btn slide-btn right" id="imgNextBtn" onclick="showNextImg(event)" aria-label="‰∏ã‰∏ÄÂº†">&#8594;</button>
  </div>

  <script>
    // Fisher-Yates ÈöèÊú∫ÁÆóÊ≥ï
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    // ËΩÆÊí≠Âå∫‰∏ìÂ±û‰∏ªÈ¢ò
    const carouselThemes = [
    {
      title: 'ÊââÈó¥ÂπªÂ¢É',
      desc: 'ÂΩìËé´Â•àÁöÑÂÖâÂΩ±ÂÆûÈ™åÔºåÈÅá‰∏äÈáèÂ≠êÁ∫†Áº†ÁöÑÊµ™Êº´',
      thumb: 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/cover.jpg',
      previews: ['https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/cover.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/preview_icons_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/preview_unlock_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/preview_unlock_1.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/preview_unlock_2.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/preview_widget_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/preview_widget_1.jpg'],
      tags: ['Âçé‰∏∫Ëç£ËÄÄ', 'Âä®ÊÄÅÈîÅÂ±è', 'Ëá™ÂÆö‰πâ', 'Ëá™Âà∂'],
      author: { name: "RWJ", avatar: "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/avatar.jpg" },
      downloads: [
        { name: 'ÁôæÂ∫¶ÁΩëÁõò', url: '#' },
        { name: 'Â§áÁî®Áõ¥Èìæ', url: 'https://example.com/theme3.zip' }
      ]
    },
    {
      title: 'ÁÅ∞ÂéüÂìÄ',
      desc: 'Êú¨‰∏ªÈ¢òÁî± ÈÖ∑ÂÆâ@RWJ__ Âà∂‰ΩúÔºõÊú™ÁªèÂÖÅËÆ∏ËØ∑Âãø‰∫å‰º†„ÄÅÂÄíÂçñ',
      thumb: 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÁÅ∞ÂéüÂìÄ/cover.jpg',
      previews: ['https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÁÅ∞ÂéüÂìÄ/cover.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÁÅ∞ÂéüÂìÄ/preview_unlock_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÁÅ∞ÂéüÂìÄ/preview_widget_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÁÅ∞ÂéüÂìÄ/preview_widget_1.png'],
      tags: ['Âçé‰∏∫', '‰∏ÄÈïúÂà∞Â∫ï', 'Ëá™Âà∂'],
      author: { name: "RWJ", avatar: "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/avatar.jpg" },
      downloads: [
        { name: 'ÁôæÂ∫¶ÁΩëÁõò', url: '#' }
      ]
    },
    {
      title: 'ÂÖâÂÆá',
      desc: 'HarmonyOS NEXT 5.0 È¢ÑÁΩÆ‰∏ªÈ¢òÔºåÁî±RWJÁßªÊ§ç',
      thumb: 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂÆá/cover.jpg',
      previews: ['https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂÆá/cover.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂÆá/preview_unlock_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂÆá/preview_widget_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂÆá/preview_widget_1.png', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂÆá/preview_video_image.jpg'],
      tags: ['Âçé‰∏∫', 'È¢ÑÁΩÆ', '‰∏ÄÈïúÂà∞Â∫ï', 'Ëá™Âà∂'],
      author: { name: "PresetTheme", avatar: "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png" },
      downloads: [
        { name: 'ÁôæÂ∫¶ÁΩëÁõò', url: '#' }
      ]
    }
    ];

    // Â∞èÂç°ÁâáÂå∫ÂÖ®ÈÉ®‰∏ªÈ¢ò
    const allCardThemes = [
      {
        title: 'ÊââÈó¥ÂπªÂ¢É',
        desc: 'ÂΩìËé´Â•àÁöÑÂÖâÂΩ±ÂÆûÈ™åÔºåÈÅá‰∏äÈáèÂ≠êÁ∫†Áº†ÁöÑÊµ™Êº´',
        thumb: 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/cover.jpg',
        previews: ['https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/cover.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/preview_icons_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/preview_unlock_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/preview_unlock_1.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/preview_unlock_2.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/preview_widget_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÊââÈó¥ÂπªÂ¢É/preview_widget_1.jpg'],
        tags: ['Âçé‰∏∫Ëç£ËÄÄ', 'Âä®ÊÄÅÈîÅÂ±è', 'Ëá™ÂÆö‰πâ', 'Ëá™Âà∂'],
        author: { name: "RWJ", avatar: "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/avatar.jpg" },
        downloads: [
          { name: 'ÁôæÂ∫¶ÁΩëÁõò', url: '#' },
          { name: 'Â§áÁî®Áõ¥Èìæ', url: 'https://example.com/theme3.zip' }
        ]
      },
      {
        title: 'ÁÅ∞ÂéüÂìÄ',
        desc: 'Êú¨‰∏ªÈ¢òÁî± ÈÖ∑ÂÆâ@RWJ__ Âà∂‰ΩúÔºõÊú™ÁªèÂÖÅËÆ∏ËØ∑Âãø‰∫å‰º†„ÄÅÂÄíÂçñ',
        thumb: 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÁÅ∞ÂéüÂìÄ/cover.jpg',
        previews: ['https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÁÅ∞ÂéüÂìÄ/cover.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÁÅ∞ÂéüÂìÄ/preview_unlock_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÁÅ∞ÂéüÂìÄ/preview_widget_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/ÁÅ∞ÂéüÂìÄ/preview_widget_1.png'],
        tags: ['Âçé‰∏∫', '‰∏ÄÈïúÂà∞Â∫ï', 'Ëá™Âà∂'],
        author: { name: "RWJ", avatar: "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/RWJ/avatar.jpg" },
        downloads: [
          { name: 'ÁôæÂ∫¶ÁΩëÁõò', url: '#' }
        ]
      },
      {
        title: 'ÂÖâÂÆá',
        desc: 'HarmonyOS NEXT 5.0 È¢ÑÁΩÆ‰∏ªÈ¢òÔºåÁî±RWJÁßªÊ§ç',
        thumb: 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂÆá/cover.jpg',
        previews: ['https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂÆá/cover.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂÆá/preview_unlock_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂÆá/preview_widget_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂÆá/preview_widget_1.png', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂÆá/preview_video_image.jpg'],
        tags: ['Âçé‰∏∫', 'È¢ÑÁΩÆ', '‰∏ÄÈïúÂà∞Â∫ï'],
        author: { name: "PresetTheme", avatar: "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png" },
        downloads: [
          { name: 'ÁôæÂ∫¶ÁΩëÁõò', url: '#' }
        ]
      },
      {
        title: 'ÁªáÈî¶Èùí',
        desc: 'Âçé‰∏∫Mate 70Á≥ªÂàóÈ¢ÑÁΩÆ‰∏ªÈ¢òÔºåRWJÁßªÊ§ç',
        thumb: 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªáÈî¶Èùí/cover.jpg',
        previews: ['https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªáÈî¶Èùí/cover.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªáÈî¶Èùí/preview_unlock_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªáÈî¶Èùí/preview_widget_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªáÈî¶Èùí/preview_widget_1.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªáÈî¶Èùí/preview_video_image.png', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªáÈî¶Èùí/other_preview_video_image.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªáÈî¶Èùí/other_preview_unlock_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªáÈî¶Èùí/other_cover.jpg'],
        tags: ['Âçé‰∏∫', 'È¢ÑÁΩÆ', '‰∏ÄÈïúÂà∞Â∫ï'],
        author: { name: "PresetTheme", avatar: "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png" },
        downloads: [
          { name: 'ÁôæÂ∫¶ÁΩëÁõò', url: '#' }
        ]
      },
      {
        title: 'ÊΩÆÊ∂å',
        desc: 'HarmonyOS NEXT 5.0 È¢ÑÁΩÆ‰∏ªÈ¢òÔºåÁî±RWJÁßªÊ§ç',
        thumb: 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊΩÆÊ∂å/cover.jpg',
        previews: ['https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊΩÆÊ∂å/cover.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊΩÆÊ∂å/preview_unlock_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊΩÆÊ∂å/preview_widget_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊΩÆÊ∂å/preview_video_image.png'],
        tags: ['Âçé‰∏∫', 'È¢ÑÁΩÆ', '‰∏ÄÈïúÂà∞Â∫ï'],
        author: { name: "PresetTheme", avatar: "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png" },
        downloads: [
          { name: 'ÁôæÂ∫¶ÁΩëÁõò', url: '#' }
        ]
      },
      {
        title: 'ÂÖâÂú∫',
        desc: 'HarmonyOS NEXT 5.0 È¢ÑÁΩÆ‰∏ªÈ¢òÔºåÁî±RWJÁßªÊ§ç',
        thumb: 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂú∫/cover.jpg',
        previews: ['https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂú∫/cover.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂú∫/preview_unlock_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂú∫/preview_widget_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÖâÂú∫/preview_video_image.png'],
        tags: ['Âçé‰∏∫', 'È¢ÑÁΩÆ', '‰∏ÄÈïúÂà∞Â∫ï'],
        author: { name: "PresetTheme", avatar: "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png" },
        downloads: [
          { name: 'ÁôæÂ∫¶ÁΩëÁõò', url: '#' }
        ]
      },
      {
        title: 'ÂØ∞ÂÆá',
        desc: 'HarmonyOS NEXT 5.0 È¢ÑÁΩÆ‰∏ªÈ¢òÔºåÁî±RWJÁßªÊ§ç',
        thumb: 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂØ∞ÂÆá/cover.jpg',
        previews: ['https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂØ∞ÂÆá/cover.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂØ∞ÂÆá/preview_unlock_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂØ∞ÂÆá/preview_widget_0.jpg', 'https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂØ∞ÂÆá/preview_video_image.png'],
        tags: ['Âçé‰∏∫', 'È¢ÑÁΩÆ', '‰∏ÄÈïúÂà∞Â∫ï'],
        author: { name: "PresetTheme", avatar: "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png" },
        downloads: [
          { name: 'ÁôæÂ∫¶ÁΩëÁõò', url: '#' }
        ]
      },
      {
        "title": "ÂÜ∞Êô∂",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÜ∞Êô∂/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÜ∞Êô∂/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÜ∞Êô∂/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÜ∞Êô∂/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÜ∞Êô∂/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÜ∞Êô∂/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂÜ∞Êô∂/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "Â¢®Èªë",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Â¢®Èªë/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Â¢®Èªë/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Â¢®Èªë/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Â¢®Èªë/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Â¢®Èªë/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Â¢®Èªë/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Â¢®Èªë/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "Âº¶‰πê",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Âº¶‰πê/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Âº¶‰πê/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Âº¶‰πê/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Âº¶‰πê/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Âº¶‰πê/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Âº¶‰πê/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Âº¶‰πê/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "ÂæãÂä®",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂæãÂä®/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂæãÂä®/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂæãÂä®/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂæãÂä®/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂæãÂä®/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂæãÂä®/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÂæãÂä®/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "ÊòüËäí",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊòüËäí/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊòüËäí/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊòüËäí/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊòüËäí/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊòüËäí/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊòüËäí/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊòüËäí/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "ÊöÆÂÖâ",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊöÆÂÖâ/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊöÆÂÖâ/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊöÆÂÖâ/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊöÆÂÖâ/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊöÆÂÖâ/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊöÆÂÖâ/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊöÆÂÖâ/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "ÊúàÂΩ±",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊúàÂΩ±/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊúàÂΩ±/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊúàÂΩ±/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊúàÂΩ±/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊúàÂΩ±/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊúàÂΩ±/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÊúàÂΩ±/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "Ê¢¶Â¢É",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê¢¶Â¢É/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê¢¶Â¢É/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê¢¶Â¢É/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê¢¶Â¢É/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê¢¶Â¢É/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê¢¶Â¢É/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê¢¶Â¢É/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "Ê®±Êûö",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê®±Êûö/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê®±Êûö/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê®±Êûö/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê®±Êûö/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê®±Êûö/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê®±Êûö/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Ê®±Êûö/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "ÁëûÁ∫¢",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁëûÁ∫¢/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁëûÁ∫¢/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁëûÁ∫¢/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁëûÁ∫¢/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁëûÁ∫¢/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁëûÁ∫¢/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁëûÁ∫¢/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "ÁªØÈúû",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªØÈúû/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªØÈúû/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªØÈúû/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªØÈúû/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªØÈúû/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªØÈúû/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÁªØÈúû/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "Èì∂Êôñ",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Èì∂Êôñ/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Èì∂Êôñ/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Èì∂Êôñ/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Èì∂Êôñ/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Èì∂Êôñ/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Èì∂Êôñ/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "ÈõÖÈüµ",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈõÖÈüµ/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈõÖÈüµ/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈõÖÈüµ/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈõÖÈüµ/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈõÖÈüµ/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈõÖÈüµ/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈõÖÈüµ/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "Èõ™Âüü",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Èõ™Âüü/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Èõ™Âüü/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Èõ™Âüü/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Èõ™Âüü/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Èõ™Âüü/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Èõ™Âüü/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/Èõ™Âüü/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      },
      {
        "title": "ÈùíÁ©∫",
        "desc": "Âçé‰∏∫Pura 70Á≥ªÂàó È¢ÑÁΩÆ‰∏ªÈ¢ò",
        "thumb": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈùíÁ©∫/cover.jpg",
        "previews": [
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈùíÁ©∫/cover.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈùíÁ©∫/preview_icons_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈùíÁ©∫/preview_icons_1.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈùíÁ©∫/preview_unlock_0.jpg",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈùíÁ©∫/preview_video_image.png",
          "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/ÈùíÁ©∫/preview_widget_0.jpg"
        ],
        "tags": [
          "Âçé‰∏∫",
          "È¢ÑÁΩÆ",
          "‰∏ÄÈïúÂà∞Â∫ï"
        ],
        "author": {
          "name": "PresetTheme",
          "avatar": "https://cdn.jsdelivr.net/gh/HWrwj/rwjthemes/PresetTheme/avatar.png"
        },
        "downloads": [
          {
            "name": "ÁôæÂ∫¶ÁΩëÁõò",
            "url": "#"
          }
        ]
      }      
      
    ];

    // ÈÄâÂÆöÁâπÊùÉ‰∏ªÈ¢òÔºàËøôÈáåÈÄâÂâç3‰∏™Ôºå‰πüÂèØÊåâÂÆûÈôÖÈúÄË¶ÅÊåáÂÆöÔºâ
    const privilegeThemes = allCardThemes.slice(0, 3);
    const normalThemes = allCardThemes.slice(3);
    shuffle(normalThemes);
    const cardThemes = privilegeThemes.concat(normalThemes);

    // ËΩÆÊí≠Â§ßÂõæ
    const carouselTrack = document.getElementById('carouselTrack');
    const carouselIndicators = document.getElementById('carouselIndicators');
    let carouselIndex = 0;
    let carouselTimer = null;
    let carouselPaused = false;

    function renderCarousel() {
      carouselTrack.innerHTML = '';
      carouselIndicators.innerHTML = '';
      carouselThemes.forEach((theme, idx) => {
        const item = document.createElement('div');
        item.className = 'carousel-item' + (idx === carouselIndex ? ' active' : '');
        item.tabIndex = 0;
        item.setAttribute('role', 'button');
        item.setAttribute('aria-label', theme.title);
        item.innerHTML = `
          <img class="carousel-img" src="${theme.previews[0] || theme.thumb}" alt="${theme.title} ‰∏ªÈ¢òÂ§ßÂõæ" />
          <div class="carousel-caption">
            <div class="carousel-title">
              <span class="marquee-outer">
                <span class="marquee-inner">${theme.title}</span>
              </span>
            </div>
            <div class="carousel-desc">${theme.desc}</div>
          </div>
        `;
        item.onclick = () => openModalCarousel(idx);
        item.onkeydown = e => {
          if (e.key === 'Enter' || e.key === ' ') openModalCarousel(idx);
        };
        carouselTrack.appendChild(item);

        // ÊåáÁ§∫ÁÇπ
        const dot = document.createElement('span');
        dot.className = 'carousel-dot' + (idx === carouselIndex ? ' active' : '');
        dot.onclick = () => { setCarousel(idx); };
        carouselIndicators.appendChild(dot);
      });

      // Âä®ÁîªÔºöÊªëÂä®ÊñπÂêë
      document.querySelectorAll('.carousel-item').forEach((el, idx) => {
        el.classList.remove('slide-in-left', 'slide-in-right');
        if (idx === carouselIndex) {
          if (typeof renderCarousel.lastIndex === 'number') {
            if (carouselIndex > renderCarousel.lastIndex || (carouselIndex === 0 && renderCarousel.lastIndex === carouselThemes.length - 1)) {
              el.classList.add('slide-in-right');
            } else if (carouselIndex < renderCarousel.lastIndex || (carouselIndex === carouselThemes.length - 1 && renderCarousel.lastIndex === 0)) {
              el.classList.add('slide-in-left');
            }
          }
        }
      });
      renderCarousel.lastIndex = carouselIndex;

      // ‰∏ªÈ¢òÂêçËΩÆÊí≠
      updateMarquee();
    }
    function setCarousel(idx) {
      carouselIndex = idx;
      renderCarousel();
      resetCarouselTimer();
    }
    function nextCarousel() {
      carouselIndex = (carouselIndex + 1) % carouselThemes.length;
      renderCarousel();
      resetCarouselTimer();
    }
    function resetCarouselTimer() {
      if (carouselTimer) clearInterval(carouselTimer);
      if (!carouselPaused) {
        carouselTimer = setInterval(() => {
          nextCarousel();
        }, 5000);
      }
    }
    function pauseCarousel() {
      carouselPaused = true;
      if (carouselTimer) clearInterval(carouselTimer);
    }
    function resumeCarousel() {
      carouselPaused = false;
      resetCarouselTimer();
    }
    document.getElementById('carousel').onmouseenter = pauseCarousel;
    document.getElementById('carousel').onmouseleave = resumeCarousel;
    document.getElementById('carousel').ontouchstart = pauseCarousel;
    document.getElementById('carousel').ontouchend = resumeCarousel;
    renderCarousel();
    resetCarouselTimer();

    // ‰∏ªÈ°µÂ∞èÂç°Áâá
    const grid = document.getElementById('themeGrid');
    cardThemes.forEach((theme, idx) => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <div class="thumb-wrap">
          <img class="thumb" src="${theme.thumb}" alt="${theme.title} È¢ÑËßà" loading="lazy"/>
        </div>
        <div class="title">
          <span class="marquee-outer">
            <span class="marquee-inner">${theme.title}</span>
          </span>
        </div>
        <div class="desc">${theme.desc}</div>
        <div class="author-info-card" tabindex="0" aria-label="‰ΩúËÄÖ ${theme.author.name}">
          <img class="author-avatar-card" src="${theme.author.avatar}" alt="‰ΩúËÄÖÂ§¥ÂÉè" />
          <span class="marquee-outer">
            <span class="marquee-inner">${theme.author.name}</span>
          </span>
        </div>
      `;
      card.addEventListener('click', () => openModalCard(idx));
      card.querySelector('.author-info-card').addEventListener('click', e => {
        e.stopPropagation();
        openModalCard(idx);
      });
      card.querySelector('.author-info-card').addEventListener('keydown', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          openModalCard(idx);
        }
      });
      grid.appendChild(card);
    });

    // ÈÄöÁî®marqueeÊ£ÄÊµã
    function updateMarquee() {
      document.querySelectorAll('.marquee-outer').forEach(outer => {
        const inner = outer.querySelector('.marquee-inner');
        if (!inner) return;
        inner.classList.remove('marquee');
        inner.style.removeProperty('--scroll-distance');
        if (inner.scrollWidth > outer.offsetWidth) {
          const distance = inner.scrollWidth - outer.offsetWidth;
          inner.style.setProperty('--scroll-distance', distance + 'px');
          inner.classList.add('marquee');
        }
      });
    }
    window.addEventListener('load', updateMarquee);
    window.addEventListener('resize', updateMarquee);

    // Ê®™ÂêëÂàÜÈ°µÁõ∏ÂÖ≥
    let currentPage = 0;
    let currentImgs = [];
    const PC_PAGE_SIZE = 4;
    function renderImgs(imgs) {
      const isMobile = window.innerWidth <= 700;
      const container = document.getElementById('modal-imgs');
      container.innerHTML = '';
      if (isMobile) {
        imgs.forEach(src => {
          const wrap = document.createElement('div');
          wrap.className = 'img-wrap';
          const img = document.createElement('img');
          img.src = src;
          img.alt = '‰∏ªÈ¢òÈ¢ÑËßàÂõæ';
          img.onclick = e => {
            e.stopPropagation();
            showBigImg(src, imgs);
          };
          wrap.appendChild(img);
          container.appendChild(wrap);
        });
        document.getElementById('slideLeftBtn').style.display = 'none';
        document.getElementById('slideRightBtn').style.display = 'none';
      } else {
        const totalPages = Math.ceil(imgs.length / PC_PAGE_SIZE) || 1;
        currentPage = Math.max(0, Math.min(currentPage, totalPages - 1));
        const start = currentPage * PC_PAGE_SIZE;
        const end = Math.min(start + PC_PAGE_SIZE, imgs.length);
        const pageImgs = imgs.slice(start, end);
        for (let i = 0; i < PC_PAGE_SIZE; i++) {
          const wrap = document.createElement('div');
          wrap.className = 'img-wrap' + (pageImgs[i] ? '' : ' placeholder');
          if (pageImgs[i]) {
            const img = document.createElement('img');
            img.src = pageImgs[i];
            img.alt = '‰∏ªÈ¢òÈ¢ÑËßàÂõæ';
            img.onclick = e => {
              e.stopPropagation();
              showBigImg(pageImgs[i], imgs);
            };
            wrap.appendChild(img);
          }
          container.appendChild(wrap);
        }
        const leftBtn = document.getElementById('slideLeftBtn');
        const rightBtn = document.getElementById('slideRightBtn');
        if (totalPages > 1) {
          leftBtn.style.display = 'flex';
          rightBtn.style.display = 'flex';
          leftBtn.disabled = currentPage === 0;
          rightBtn.disabled = currentPage === totalPages - 1;
        } else {
          leftBtn.style.display = 'none';
          rightBtn.style.display = 'none';
        }
      }
    }
    function slideImgs(dir) {
      const imgs = currentImgs;
      const totalPages = Math.ceil(imgs.length / PC_PAGE_SIZE) || 1;
      currentPage += dir;
      currentPage = Math.max(0, Math.min(currentPage, totalPages - 1));
      renderImgs(imgs);
    }
    window.addEventListener('resize', () => {
      if (currentImgs.length) renderImgs(currentImgs);
    });

    // ÂºπÁ™óÔºöËΩÆÊí≠‰∏ªÈ¢ò
    function openModalCarousel(idx) {
      const theme = carouselThemes[idx];
      openModalCommon(theme);
    }
    // ÂºπÁ™óÔºöÂç°Áâá‰∏ªÈ¢ò
    function openModalCard(idx) {
      const theme = cardThemes[idx];
      openModalCommon(theme);
    }
    // ÈÄöÁî®ÂºπÁ™ó
    function openModalCommon(theme) {
      const modal = document.getElementById('modal');
      const backdrop = document.getElementById('modal-backdrop');
      const authorDiv = document.getElementById('modal-author');
      authorDiv.innerHTML = `
        <img class="author-avatar" src="${theme.author.avatar}" alt="${theme.author.name}">
        <span class="author-name">${theme.author.name}</span>
      `;
      document.getElementById('modal-title').textContent = theme.title;
      document.getElementById('modal-desc').textContent = theme.desc;
      const tagDiv = document.getElementById('modal-tags');
      tagDiv.innerHTML = '';
      if (theme.tags && theme.tags.length) {
        theme.tags.forEach(tag => {
          const tagEl = document.createElement('span');
          tagEl.className = 'tag-glass';
          tagEl.textContent = tag;
          tagDiv.appendChild(tagEl);
        });
      }
      currentImgs = theme.previews;
      currentPage = 0;
      renderImgs(currentImgs);

      const dlContainer = document.getElementById('modal-downloads');
      dlContainer.innerHTML = '';
      theme.downloads.forEach(dl => {
        const span = document.createElement('span');
        span.className = 'tag-glass download-link';
        span.textContent = dl.name;
        span.onclick = () => window.open(dl.url, '_blank');
        dlContainer.appendChild(span);
      });

      if (window.innerWidth <= 700) {
        document.body.style.overflow = 'hidden';
      }
      modal.classList.remove('hide');
      modal.style.visibility = 'visible';
      backdrop.classList.add('show');
      setTimeout(() => {
        modal.classList.add('show');
      }, 10);
      modal.focus();
    }

    function closeModal() {
      const modal = document.getElementById('modal');
      const backdrop = document.getElementById('modal-backdrop');
      modal.classList.remove('show');
      modal.classList.add('hide');
      backdrop.classList.remove('show');
      document.body.style.overflow = '';
      setTimeout(() => {
        modal.classList.remove('hide');
        modal.style.visibility = 'hidden';
      }, 500);
    }
    document.getElementById('modal-backdrop').onclick = closeModal;

    // È¢ÑËßàÂ§ßÂõæÂºπÁ™óÁõ∏ÂÖ≥
    let bigImgs = [];
    let bigImgIdx = 0;
    function showBigImg(src, arr) {
      bigImgs = arr || [src];
      bigImgIdx = bigImgs.indexOf(src);
      if (bigImgIdx === -1) bigImgIdx = 0;
      updateBigImgBtns();
      document.getElementById('bigImg').src = bigImgs[bigImgIdx];
      document.getElementById('imgModal').classList.add('show');
      if (window.innerWidth <= 700) {
        document.body.style.overflow = 'hidden';
      }
    }
    function hideBigImg() {
      document.getElementById('imgModal').classList.remove('show');
      document.body.style.overflow = '';
    }
    function showPrevImg(e) {
      e && e.stopPropagation();
      if (bigImgIdx > 0) {
        bigImgIdx--;
        document.getElementById('bigImg').src = bigImgs[bigImgIdx];
        updateBigImgBtns();
      }
    }
    function showNextImg(e) {
      e && e.stopPropagation();
      if (bigImgIdx < bigImgs.length - 1) {
        bigImgIdx++;
        document.getElementById('bigImg').src = bigImgs[bigImgIdx];
        updateBigImgBtns();
      }
    }
    function updateBigImgBtns() {
      document.getElementById('imgPrevBtn').disabled = bigImgIdx <= 0;
      document.getElementById('imgNextBtn').disabled = bigImgIdx >= bigImgs.length - 1;
    }
    document.getElementById('bigImg').onclick = function(e) {
      e.stopPropagation();
    };
    window.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeModal();
        hideBigImg();
      }
    });

    function toggleSearch() {
      const bar = document.getElementById('searchBar');
      if (bar.style.display === 'none' || bar.style.display === '') {
        bar.classList.add('animated-show');
        bar.style.display = 'flex';
        document.getElementById('searchInput').focus();
      } else {
        bar.classList.remove('animated-show');
        bar.style.display = 'none';
        document.getElementById('searchInput').value = '';
        renderGrid(cardThemes); // ÊÅ¢Â§çÂÖ®ÈÉ®
      }
    }
    
    
    function onLeftButtonClick() {
      alert('‰Ω†ÂèØ‰ª•Ëá™ÂÆö‰πâÂ∑¶‰∏äËßíÊåâÈíÆÂäüËÉΩÔºåÊØîÂ¶ÇË∑≥ËΩ¨„ÄÅÂàáÊç¢Ê®°ÂºèÁ≠â');
    }
    
    const searchInput = document.getElementById('searchInput');
    searchInput.addEventListener('input', handleSearch);
    
    function handleSearch() {
      const query = searchInput.value.trim().toLowerCase();
      const filtered = cardThemes.filter(theme => {
        const titleMatch = theme.title.toLowerCase().includes(query);
        const authorMatch = theme.author.name.toLowerCase().includes(query);
        const tagMatch = theme.tags && theme.tags.some(tag => tag.toLowerCase().includes(query));
        return titleMatch || authorMatch || tagMatch;
      });
    
      renderGrid(filtered);
    }
    
    // ÊèêÂèñÂá∫Êù•‰Ω†ÁöÑÂç°ÁâáÊ∏≤ÊüìÂáΩÊï∞ÔºåÂéüÊú¨ÊòØÂÜôÂú®Âæ™ÁéØÈáåÁöÑÔºåÊîπÊàêÈÄöÁî®ÂáΩÊï∞Ôºö
    function renderGrid(themes) {
      const grid = document.getElementById('themeGrid');
      grid.innerHTML = '';
      themes.forEach((theme, idx) => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <div class="thumb-wrap">
            <img class="thumb" src="${theme.thumb}" alt="${theme.title} È¢ÑËßà" loading="lazy"/>
          </div>
          <div class="title">
            <span class="marquee-outer">
              <span class="marquee-inner">${theme.title}</span>
            </span>
          </div>
          <div class="desc">${theme.desc}</div>
          <div class="author-info-card" tabindex="0" aria-label="‰ΩúËÄÖ ${theme.author.name}">
            <img class="author-avatar-card" src="${theme.author.avatar}" alt="‰ΩúËÄÖÂ§¥ÂÉè" />
            <span class="marquee-outer">
              <span class="marquee-inner">${theme.author.name}</span>
            </span>
          </div>
        `;
        card.addEventListener('click', () => openModalCard(cardThemes.indexOf(theme)));
        card.querySelector('.author-info-card').addEventListener('click', e => {
          e.stopPropagation();
          openModalCard(cardThemes.indexOf(theme));
        });
        card.querySelector('.author-info-card').addEventListener('keydown', e => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            openModalCard(cardThemes.indexOf(theme));
          }
        });
        grid.appendChild(card);
      });
    }
    
  </script>
</body>
</html>
